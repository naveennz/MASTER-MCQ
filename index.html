<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master MCQ - Series Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary: #1bb39a; 
            --secondary: #2c4358; 
            --accent: #2ecc71; 
            --warning: #f39c12; 
            --danger: #e74c3c; 
            --light: #f4f7f8; 
            --marked: #3498db;
        }

        body { 
            margin: 0; 
            font-family: 'Inter', sans-serif; 
            background: var(--primary); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            user-select: none;
        }

        .hidden { display: none !important; }

        /* Main Layout */
        .main-container { 
            width: 95%; 
            max-width: 1100px; 
            height: 650px; 
            background: var(--light); 
            border-radius: 16px; 
            display: flex; 
            overflow: hidden; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
        }

        /* Sidebar Styling */
        .sidebar { 
            width: 280px; 
            background: var(--secondary); 
            color: #fff; 
            padding: 30px 20px; 
            display: flex; 
            flex-direction: column; 
        }

        .player-profile { text-align: center; margin-bottom: 20px; }
        .avatar { 
            width: 60px; height: 60px; 
            background: #ffb84d; 
            border-radius: 50%; 
            margin: 0 auto 10px; 
            border: 3px solid rgba(255,255,255,0.1); 
        }
        .total-score { font-size: 32px; font-weight: 700; color: var(--accent); }

        .players-section { flex: 1; overflow-y: auto; margin-top: 10px; }
        #playersList div { 
            padding: 10px; 
            background: rgba(255,255,255,0.1); 
            margin-bottom: 8px; 
            border-radius: 8px; 
            display: flex; 
            justify-content: space-between; 
        }

        /* Content Area */
        .content { flex: 1; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; position: relative; }

        /* Timer Bar */
        .timer-container { width: 100%; background: #ddd; height: 10px; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        #timerBar { height: 100%; background: var(--warning); width: 100%; transition: width 0.1s linear; }

        /* Tactile Button System (No Hover, High Feel) */
        button, .option {
            cursor: pointer;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            transition: none; /* Instant feedback */
            box-shadow: 0 4px 0 rgba(0,0,0,0.15); /* Physical base */
        }

        /* Clicking/Pressing Animation */
        button:active, .option:active {
            transform: translateY(3px); /* Physical push down */
            box-shadow: 0 1px 0 rgba(0,0,0,0.15); /* Collapse shadow */
        }

        button:disabled { 
            background: #bdc3c7 !important; 
            transform: none !important; 
            box-shadow: none !important; 
            cursor: not-allowed;
            opacity: 0.7;
        }

        .btn-green { background: var(--accent); color: white; padding: 15px; font-size: 1.1rem; margin-top: 15px; }
        .btn-outline { background: transparent; border: 2px solid var(--secondary); color: var(--secondary); padding: 12px; margin-top: 10px; }

        /* Game Elements */
        .question-box { background: #3a6ea5; color: #fff; padding: 25px; border-radius: 12px; font-size: 1.1rem; line-height: 1.4; box-shadow: 0 4px 0 #2c527a; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        
        .option { 
            background: #fff; 
            padding: 20px; 
            border: 2px solid #eee; 
            font-size: 1rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* State Classes */
        .marked { 
            background-color: #ebf5fb !important; 
            border: 3px solid var(--marked) !important; 
            color: var(--marked);
        }

        .correct { 
            background: var(--accent) !important; 
            color: white !important; 
            border-color: #27ae60 !important; 
            box-shadow: 0 4px 0 #27ae60;
        }

        .wrong { 
            background: var(--danger) !important; 
            color: white !important; 
            border-color: #c0392b !important; 
            box-shadow: 0 4px 0 #c0392b;
        }

        /* Series Stats Table */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px; border: 1px solid #eee; text-align: center; }
        th { background: var(--secondary); color: white; }
    </style>
</head>
<body>

<div class="main-container">
    <aside class="sidebar">
        <div class="player-profile">
            <div class="avatar"></div>
            <div id="playerName">PLAYER</div>
            <div class="total-score" id="totalScore">0</div>
        </div>

        <div class="players-section">
            <div id="playersList"></div>
        </div>

        <div class="match-id-container">
            <div style="font-size: 0.7rem; margin-bottom: 8px; opacity: 0.7; font-weight: 700;">ROOM CODE</div>
            <div style="display:flex; gap:5px;">
                <div id="m1" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px; font-weight: 700;">-</div>
                <div id="m2" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px; font-weight: 700;">-</div>
                <div id="m3" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px; font-weight: 700;">-</div>
                <div id="m4" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px; font-weight: 700;">-</div>
            </div>
        </div>
    </aside>

    <main class="content">

        <section id="homeScreen">
            <div style="background: #fff; padding: 40px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; max-width: 450px; margin: auto;">
                <h2 style="color: var(--secondary); margin-bottom: 25px;">Master MCQ Challenge</h2>
                <input type="text" id="nameInput" placeholder="Your Name" maxlength="12">
                <input type="text" id="roomInput" placeholder="Room Code (to join)" maxlength="4">
                <button class="btn-green" id="hostBtn">Host New Series</button>
                <button class="btn-outline" id="joinBtn">Join Match</button>
            </div>
        </section>

        <section id="lobbyScreen" class="hidden">
            <h2 id="roomLabel" style="color: var(--secondary); margin-top: 0;">ROOM ----</h2>
            <div style="background: #fff; padding: 40px; border-radius: 15px; text-align: center;">
                <p id="lobbyStatus" style="font-size: 1.1rem; color: #666; margin-bottom: 20px;">Ready to play?</p>
                <button class="btn-green" id="startBtn" disabled>Start Round 1</button>
            </div>
        </section>

        <section id="gameScreen" class="hidden">
            <div id="roundIndicator" style="font-weight:700; color:var(--secondary); margin-bottom:10px; font-size: 1.1rem;">ROUND 1 - QUESTION 1/20</div>
            <div class="timer-container"><div id="timerBar"></div></div>
            <div class="question-box" id="questionText"></div>
            <div class="options-grid" id="options"></div>
        </section>

        <section id="roundWinnerScreen" class="hidden">
            <div style="background: #fff; padding: 40px; border-radius: 15px; text-align: center;">
                <h2 style="color: var(--secondary);">Level Complete!</h2>
                <p style="color: #666;">Waiting for the host to proceed...</p>
                <button id="nextLevelBtn" class="btn-green hidden">Next Level</button>
            </div>
        </section>

        <section id="seriesWinnerScreen" class="hidden">
            <div style="background: #fff; padding: 40px; border-radius: 15px; text-align: center;">
                <h1 style="color: var(--secondary); margin-top: 0;">üèÜ SERIES FINAL TABLE üèÜ</h1>
                <div id="seriesStats" style="overflow-x: auto;"></div>
                <button onclick="location.reload()" class="btn-outline" style="width: 200px; margin-top: 30px;">Play Again</button>
            </div>
        </section>

    </main>
</div>

<script type="module" src="app.js"></script>

</body>
</html>
