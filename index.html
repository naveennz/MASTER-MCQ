<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master MCQ ‚Äì Series Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --lime:    #c8f135;
            --navy:    #1a1b2e;
            --purple:  #7c5cbf;
            --purple2: #9b7de8;
            --white:   #f5f5f0;
            --gray:    #e8e8e2;
            --ink:     #1a1b2e;
            --muted:   #8888aa;
            --radius:  16px;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Bricolage Grotesque', sans-serif;
            background: var(--white);
            color: var(--ink);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            overflow: hidden;
        }
        /* Floating deco */
        .deco { position: fixed; pointer-events: none; z-index: 0; }
        .deco-star {
            width: 52px; height: 52px;
            background: var(--purple2);
            clip-path: polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
            top: 6%; right: 9%;
            animation: floatA 6s ease-in-out infinite;
        }
        .deco-star2 {
            width: 32px; height: 32px;
            background: var(--lime);
            clip-path: polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
            bottom: 14%; left: 4%;
            animation: floatB 7s ease-in-out infinite;
        }
        .deco-ring {
            width: 70px; height: 70px;
            border: 3.5px solid var(--lime);
            border-radius: 50%;
            bottom: 22%; right: 5%;
            animation: floatA 5s ease-in-out infinite reverse;
        }
        .deco-plus {
            font-size: 2.2rem; font-weight: 900; line-height: 1;
            color: var(--purple);
            top: 42%; left: 2.5%;
            animation: floatB 8s ease-in-out infinite;
        }
        .deco-dot {
            width: 12px; height: 12px;
            background: var(--lime);
            border-radius: 50%;
            top: 18%; left: 7%;
            border: 2px solid var(--navy);
            animation: floatA 4s ease-in-out infinite;
        }
        .deco-sq {
            width: 28px; height: 28px;
            background: transparent;
            border: 3px solid var(--purple2);
            border-radius: 6px;
            bottom: 8%; right: 18%;
            transform: rotate(20deg);
            animation: floatB 6s ease-in-out infinite;
        }
        @keyframes floatA {
            0%,100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-14px) rotate(15deg); }
        }
        @keyframes floatB {
            0%,100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(-10deg); }
        }

        .hidden { display: none !important; }

        /* Shell */
        .shell {
            position: relative; z-index: 1;
            width: 96%; max-width: 1080px; height: 680px;
            display: flex;
            border-radius: 24px;
            overflow: hidden;
            border: 2.5px solid var(--navy);
            box-shadow: 8px 8px 0 var(--navy);
        }

        /* Sidebar */
        .sidebar {
            width: 258px;
            background: var(--navy);
            display: flex;
            flex-direction: column;
            padding: 26px 20px;
            gap: 16px;
            flex-shrink: 0;
        }
        .brand { font-size: 1.4rem; font-weight: 800; color: var(--white); letter-spacing: -0.5px; }
        .brand span { color: var(--lime); }
        .profile-card {
            background: rgba(255,255,255,0.05);
            border: 1.5px solid rgba(255,255,255,0.1);
            border-radius: 14px;
            padding: 16px;
            text-align: center;
        }
        .avatar-ring {
            width: 50px; height: 50px;
            background: var(--lime);
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem;
            border: 2px solid white;
        }
        #playerName { font-size: 0.68rem; font-weight: 700; letter-spacing: 2px; color: var(--muted); text-transform: uppercase; }
        .score-num { font-size: 2.5rem; font-weight: 800; color: var(--lime); line-height: 1; margin-top: 4px; }
        .score-sub { font-size: 0.62rem; letter-spacing: 1.5px; color: var(--muted); text-transform: uppercase; }

        .s-label { font-size: 0.63rem; font-weight: 700; letter-spacing: 2px; color: var(--muted); text-transform: uppercase; }
        .players-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 5px; }
        .players-list::-webkit-scrollbar { width: 2px; }
        .players-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); }
        .player-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 8px 12px; border-radius: 10px;
            background: rgba(255,255,255,0.05);
            font-size: 0.83rem; color: var(--white);
            border: 1px solid rgba(255,255,255,0.07);
        }
        .player-row.me { background: rgba(200,241,53,0.1); border-color: rgba(200,241,53,0.25); }
        .player-row .pts { font-family: 'DM Mono', monospace; color: var(--lime); font-size: 0.76rem; }

        /* Room code */
        .room-digits { display: flex; gap: 5px; margin-top: 6px; }
        .room-digit {
            flex: 1; padding: 8px 0; text-align: center; border-radius: 8px;
            background: rgba(255,255,255,0.07);
            border: 1px solid rgba(255,255,255,0.1);
            font-family: 'DM Mono', monospace;
            font-weight: 700; font-size: 1.05rem; color: var(--purple2);
        }

        /* Content */
        .content {
            flex: 1; background: var(--white);
            display: flex; flex-direction: column;
            overflow-y: auto; position: relative;
        }
        .content::-webkit-scrollbar { width: 3px; }
        .content::-webkit-scrollbar-thumb { background: var(--gray); border-radius: 3px; }

        /* Buttons */
        button {
            font-family: 'Bricolage Grotesque', sans-serif;
            cursor: pointer;
            border: 2.5px solid var(--navy);
            border-radius: var(--radius);
            font-weight: 700;
            transition: transform 0.08s, box-shadow 0.08s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        button:not(:disabled):active { transform: translate(3px,3px) !important; box-shadow: 0 0 0 transparent !important; }
        button:disabled { opacity: 0.38; cursor: not-allowed; }

        .btn-lime { width:100%; padding:15px; background:var(--lime); color:var(--ink); font-size:1rem; box-shadow:4px 4px 0 var(--navy); margin-bottom:10px; }
        .btn-ghost { width:100%; padding:14px; background:transparent; color:var(--ink); font-size:0.95rem; box-shadow:4px 4px 0 var(--navy); }
        .btn-purple { padding:15px 32px; background:var(--purple); color:white; font-size:0.95rem; box-shadow:4px 4px 0 var(--navy); border-color:var(--navy); }
        .btn-outline-sm { padding:12px 28px; background:transparent; color:var(--ink); font-size:0.9rem; box-shadow:3px 3px 0 var(--navy); }

        /* Home */
        #homeScreen { display:flex; align-items:center; justify-content:center; height:100%; padding:40px; }
        .home-inner { width:100%; max-width:400px; }
        .home-badge {
            display: inline-flex; align-items: center; gap: 8px;
            background: var(--lime); color: var(--ink);
            border-radius: 100px; padding: 5px 14px;
            font-size: 0.72rem; font-weight: 700; letter-spacing: 0.5px;
            margin-bottom: 16px;
            border: 1.5px solid var(--navy);
            box-shadow: 2px 2px 0 var(--navy);
        }
        .home-badge .dot { width:6px; height:6px; background:var(--navy); border-radius:50%; }
        .home-title { font-size:2.3rem; font-weight:800; line-height:1.1; letter-spacing:-1px; margin-bottom:10px; }
        .home-title em { font-style:normal; color:var(--purple); }
        .home-sub { font-size:0.86rem; color:var(--muted); margin-bottom:26px; line-height:1.55; }
        .input-group { display:flex; flex-direction:column; gap:10px; margin-bottom:14px; }
        input[type="text"] {
            width:100%; padding:13px 18px;
            background:var(--white);
            border:2.5px solid var(--navy);
            border-radius:var(--radius);
            font-family:'Bricolage Grotesque', sans-serif;
            font-size:0.95rem; font-weight:600; color:var(--ink);
            outline:none;
            box-shadow:3px 3px 0 var(--navy);
            transition:border-color 0.15s, box-shadow 0.15s;
        }
        input:focus { border-color:var(--purple); box-shadow:3px 3px 0 var(--purple); }
        input::placeholder { color:var(--muted); font-weight:400; }

        /* Lobby */
        #lobbyScreen { display:flex; align-items:center; justify-content:center; height:100%; padding:40px; }
        .lobby-card {
            border:2.5px solid var(--navy); border-radius:20px; padding:40px;
            text-align:center; width:100%; max-width:380px;
            background:white; box-shadow:6px 6px 0 var(--navy);
        }
        #roomLabel { font-size:1.45rem; font-weight:800; letter-spacing:3px; color:var(--purple); margin-bottom:6px; }
        #lobbyStatus { color:var(--muted); font-size:0.9rem; margin-bottom:26px; }

        /* Game */
        #gameScreen { display:flex; flex-direction:column; height:100%; padding:22px 26px; position:relative; }

        #answerToast {
            position:absolute; top:14px; right:14px;
            padding:7px 16px; border-radius:100px;
            border:2px solid var(--navy); font-size:0.8rem; font-weight:700;
            opacity:0; transform:translateY(-6px);
            transition:opacity 0.22s, transform 0.22s;
            pointer-events:none; z-index:10;
            box-shadow:2px 2px 0 var(--navy);
        }
        #answerToast.show { opacity:1; transform:translateY(0); }
        #answerToast.correct-toast { background:var(--lime); color:var(--ink); }
        #answerToast.wrong-toast { background:#ff4d6d; color:white; border-color:#cc2244; }
        #answerToast.timeout-toast { background:var(--navy); color:var(--lime); }

        .game-topbar { display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
        #roundIndicator { font-size:0.7rem; font-weight:700; letter-spacing:2px; text-transform:uppercase; color:var(--muted); }
        .timer-wrap { display:flex; align-items:center; gap:8px; }
        #timerText { font-family:'DM Mono',monospace; font-size:0.88rem; font-weight:500; color:var(--ink); min-width:22px; text-align:right; }
        .timer-track { width:100px; height:8px; background:var(--gray); border-radius:100px; border:1.5px solid var(--navy); overflow:hidden; }
        #timerBar { height:100%; background:var(--lime); width:100%; border-radius:100px; transition:width 0.1s linear, background 0.4s; }
        #timerBar.low { background:#ff6b6b; }

        .q-tag {
            display:inline-block; background:var(--purple); color:white;
            border-radius:100px; padding:3px 12px;
            font-size:0.68rem; font-weight:700; letter-spacing:1px; text-transform:uppercase;
            margin-bottom:9px; border:1.5px solid var(--navy);
        }
        .q-box {
            border:2.5px solid var(--navy); border-radius:var(--radius);
            padding:18px 20px; font-size:1rem; font-weight:700; line-height:1.45;
            background:var(--navy); color:var(--white);
            box-shadow:4px 4px 0 var(--purple); margin-bottom:14px;
        }
        .opts-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; flex:1; }

        .opt {
            border:2.5px solid var(--navy); border-radius:var(--radius);
            padding:14px 16px; background:var(--white);
            font-family:'Bricolage Grotesque',sans-serif;
            font-size:0.88rem; font-weight:600; color:var(--ink);
            cursor:pointer; display:flex; align-items:flex-start; gap:11px;
            box-shadow:3px 3px 0 var(--navy); text-align:left; line-height:1.35;
            transition:transform 0.08s, box-shadow 0.08s;
        }
        .opt:hover:not([data-locked]) { transform:translate(-2px,-2px); box-shadow:5px 5px 0 var(--navy); }
        .opt:active:not([data-locked]) { transform:translate(2px,2px); box-shadow:1px 1px 0 var(--navy); }
        .opt-letter {
            width:24px; height:24px; border-radius:7px;
            background:var(--gray); border:1.5px solid var(--navy);
            display:flex; align-items:center; justify-content:center;
            font-size:0.7rem; font-weight:800; flex-shrink:0; color:var(--ink);
            transition:background 0.12s, color 0.12s;
        }
        .opt.marked { border-color:var(--purple); background:rgba(124,92,191,0.07); box-shadow:3px 3px 0 var(--purple); }
        .opt.marked .opt-letter { background:var(--purple); color:white; border-color:var(--purple); }
        .opt.correct { border-color:#16a34a; background:#f0fdf4; box-shadow:3px 3px 0 #16a34a; }
        .opt.correct .opt-letter { background:#22c55e; color:white; border-color:#16a34a; }
        .opt.wrong { border-color:#dc2626; background:#fef2f2; box-shadow:3px 3px 0 #dc2626; }
        .opt.wrong .opt-letter { background:#ef4444; color:white; border-color:#dc2626; }
        .opt.dimmed { opacity:0.32; }

        /* Round winner */
        #roundWinnerScreen { display:flex; align-items:center; justify-content:center; height:100%; }
        .winner-card {
            border:2.5px solid var(--navy); border-radius:20px; padding:48px 40px;
            text-align:center; max-width:390px; background:white; box-shadow:6px 6px 0 var(--navy);
        }
        .winner-icon { font-size:2.8rem; margin-bottom:14px; display:block; }
        .winner-card h2 { font-size:1.75rem; font-weight:800; margin-bottom:8px; }
        .winner-card p { color:var(--muted); font-size:0.9rem; margin-bottom:26px; }

        /* Series winner */
        #seriesWinnerScreen { display:flex; align-items:center; justify-content:center; height:100%; padding:26px; }
        .series-card {
            border:2.5px solid var(--navy); border-radius:20px; padding:34px;
            text-align:center; width:100%; max-width:590px;
            background:white; box-shadow:6px 6px 0 var(--navy);
        }
        .series-card h1 { font-size:1.35rem; font-weight:800; margin-bottom:20px; }
        table { width:100%; border-collapse:collapse; }
        th { padding:10px; background:var(--navy); color:white; font-size:0.68rem; letter-spacing:1.5px; text-transform:uppercase; text-align:center; font-weight:700; }
        td { padding:10px; border-bottom:1.5px solid var(--gray); font-size:0.88rem; text-align:center; font-weight:600; }
        td:first-child { text-align:left; font-weight:700; }
        td strong { color:var(--purple); font-family:'DM Mono',monospace; }
    </style>
</head>
<body>

<!-- Blinke-style floating decorations -->
<div class="deco deco-star"></div>
<div class="deco deco-star2"></div>
<div class="deco deco-ring"></div>
<div class="deco deco-plus">+</div>
<div class="deco deco-dot"></div>
<div class="deco deco-sq"></div>

<div class="shell">
    <aside class="sidebar">
        <div class="brand">M<span>MCQ</span></div>

        <div class="profile-card">
            <div class="avatar-ring">üéÆ</div>
            <div id="playerName">PLAYER</div>
            <div class="score-num" id="totalScore">0</div>
            <div class="score-sub">Total Points</div>
        </div>

        <div class="s-label">Players</div>
        <div class="players-list" id="playersList"></div>

        <div>
            <div class="s-label">Room Code</div>
            <div class="room-digits">
                <div class="room-digit" id="m1">‚Äì</div>
                <div class="room-digit" id="m2">‚Äì</div>
                <div class="room-digit" id="m3">‚Äì</div>
                <div class="room-digit" id="m4">‚Äì</div>
            </div>
        </div>
    </aside>

    <main class="content">

        <section id="homeScreen">
            <div class="home-inner">
                <div class="home-badge"><span class="dot"></span> Live Multiplayer Quiz</div>
                <h1 class="home-title">Seamless <em>Quiz</em><br>Challenge.</h1>
                <p class="home-sub">No more boring trivia nights. Compete with friends in real-time ‚Äî fixed rounds, instant scoring, unlimited fun.</p>
                <div class="input-group">
                    <input type="text" id="nameInput" placeholder="Your name" maxlength="12" autocomplete="off">
                    <input type="text" id="roomInput" placeholder="Room code (to join)" maxlength="4" style="text-transform:uppercase;" autocomplete="off">
                </div>
                <button class="btn-lime" id="hostBtn">Host New Series ‚Üí</button>
                <button class="btn-ghost" id="joinBtn">Join a Match</button>
            </div>
        </section>

        <section id="lobbyScreen" class="hidden">
            <div class="lobby-card">
                <div style="font-size:2.4rem;margin-bottom:12px;">üéØ</div>
                <div id="roomLabel">ROOM ----</div>
                <p id="lobbyStatus">Waiting for players...</p>
                <button class="btn-purple" id="startBtn" disabled>Start Round 1 ‚Üí</button>
            </div>
        </section>

        <section id="gameScreen" class="hidden">
            <div id="answerToast"></div>
            <div class="game-topbar">
                <div id="roundIndicator">ROUND 1 ¬∑ Q 1/20</div>
                <div class="timer-wrap">
                    <div class="timer-track"><div id="timerBar"></div></div>
                    <div id="timerText">20</div>
                </div>
            </div>
            <div class="q-tag" id="qTag">Question 1 of 20</div>
            <div class="q-box" id="questionText"></div>
            <div class="opts-grid" id="options"></div>
        </section>

        <section id="roundWinnerScreen" class="hidden">
            <div class="winner-card">
                <span class="winner-icon">‚úÖ</span>
                <h2>Round Complete!</h2>
                <p>Waiting for the host to start the next round...</p>
                <button id="nextLevelBtn" class="btn-purple hidden">Next Round ‚Üí</button>
            </div>
        </section>

        <section id="seriesWinnerScreen" class="hidden">
            <div class="series-card">
                <h1>üèÜ Series Final Results üèÜ</h1>
                <div id="seriesStats" style="overflow-x:auto;margin-bottom:22px;"></div>
                <button onclick="location.reload()" class="btn-outline-sm">Play Again</button>
            </div>
        </section>

    </main>
</div>

<script type="module" src="app.js"></script>
</body>
</html>
