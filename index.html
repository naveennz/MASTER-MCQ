<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master MCQ - Pro Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1bb39a; --secondary: #2c4358; --accent: #2ecc71; --warning: #f39c12; --danger: #e74c3c; --light: #f4f7f8; --marked: #3498db; --gold: #ffd700;}
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--primary); display: flex; justify-content: center; align-items: center; min-height: 100vh; user-select: none; }
        .hidden { display: none !important; }
        
        .main-container { width: 95%; max-width: 1100px; height: 700px; background: var(--light); border-radius: 16px; display: flex; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        
        /* SIDEBAR */
        .sidebar { width: 280px; background: var(--secondary); color: #fff; padding: 30px 20px; display: flex; flex-direction: column; }
        .player-profile { text-align: center; margin-bottom: 20px; cursor: pointer; }
        
        /* THE ICON (Styled like your preview) */
        .avatar-circle { 
            width: 80px; height: 80px; 
            border-radius: 50%; 
            margin: 0 auto 10px; 
            border: 4px solid rgba(255,255,255,0.2); 
            display: flex; align-items: center; justify-content: center;
            font-size: 40px; color: rgba(255,255,255,0.8);
        }
        
        .total-score { font-size: 28px; font-weight: 900; color: var(--accent); margin-top: 5px; }
        #playersList div { padding: 10px; background: rgba(255,255,255,0.1); margin-bottom: 8px; border-radius: 8px; display: flex; align-items: center; justify-content: space-between; }
        
        /* MINI ICON FOR LISTS */
        .list-icon { width: 24px; height: 24px; border-radius: 50%; margin-right: 8px; border: 1px solid rgba(255,255,255,0.3); display: inline-block; vertical-align: middle; }

        .content { flex: 1; padding: 30px; display: flex; flex-direction: column; overflow-y: auto; position: relative; }
        .timer-container { width: 100%; background: #ddd; height: 10px; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        #timerBar { height: 100%; background: var(--warning); width: 100%; transition: width 0.1s linear; }

        /* TACTILE BUTTONS */
        button, .option, .color-option { cursor: pointer; border: none; border-radius: 10px; font-weight: 700; -webkit-tap-highlight-color: transparent; box-shadow: 0 4px 0 rgba(0,0,0,0.15); }
        button:active, .option:active, .color-option:active { transform: translateY(3px); box-shadow: 0 1px 0 rgba(0,0,0,0.15) !important; }
        .btn-green { background: var(--accent); color: white; padding: 15px; font-size: 1.1rem; width: 100%; margin-top: 10px; }
        .btn-outline { background: transparent; border: 2px solid var(--secondary); color: var(--secondary); padding: 12px; width: 100%; margin-top: 10px; }
        .btn-solo { background: var(--warning); color: white; padding: 15px; font-size: 1.1rem; width: 100%; margin-top: 10px; }

        /* COLOR PICKER */
        .color-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 20px 0; }
        .color-option { height: 50px; border-radius: 10px; border: 3px solid transparent; }
        .color-option.selected { border-color: var(--secondary); transform: scale(1.05); }

        /* GAME STATES */
        .option { background: #fff; padding: 20px; border: 2px solid #eee; display: flex; align-items: center; justify-content: center; text-align: center; margin-top: 10px;}
        .marked { background-color: #ebf5fb !important; border: 3px solid var(--marked) !important; }
        .correct { background: var(--accent) !important; color: white !important; box-shadow: 0 4px 0 #27ae60; }
        .wrong { background: var(--danger) !important; color: white !important; box-shadow: 0 4px 0 #c0392b; }

        /* BADGES */
        .badge-grid { display: flex; gap: 10px; justify-content: center; margin-top: 20px; flex-wrap: wrap;}
        .badge-item { width: 50px; height: 50px; background: #ddd; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; filter: grayscale(100%); opacity: 0.4; position: relative;}
        .badge-item.unlocked { background: var(--gold); filter: grayscale(0%); opacity: 1; box-shadow: 0 3px 0 #c7a800; }

        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; font-size: 0.9rem; margin-top: 10px;}
        th, td { padding: 10px; border: 1px solid #eee; text-align: center; }
        th { background: var(--secondary); color: white; }
    </style>
</head>
<body>

<div class="main-container">
    <aside class="sidebar">
        <div class="player-profile" id="sidebarProfileTrigger">
            <div class="avatar-circle" id="sidebarCircle" style="background-color: #ffb84d;">üë§</div>
            <div id="playerName" style="font-weight: 700; margin-top: 10px;">Guest</div>
            <div class="total-score" id="totalScore">0</div>
            <div style="font-size: 0.8rem; opacity: 0.7;">Career Points</div>
        </div>
        <div class="players-section"><div id="playersList"></div></div>
        <div class="match-id-container">
            <div style="font-size: 0.7rem; font-weight: 700; opacity: 0.7;">ROOM CODE</div>
            <div style="display:flex; gap:5px; font-weight: 900;">
                <div id="m1" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px;">-</div>
                <div id="m2" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px;">-</div>
                <div id="m3" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px;">-</div>
                <div id="m4" style="background:#1f3446; flex:1; padding:10px; text-align:center; border-radius:5px;">-</div>
            </div>
        </div>
    </aside>

    <main class="content">
        <section id="homeScreen">
            <div style="background: white; padding: 30px; border-radius: 15px; text-align: center; max-width: 500px; margin: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                <h2>Master MCQ</h2>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="nameInput" placeholder="Name" maxlength="12" style="flex:1; padding: 12px; border: 2px solid #eee; border-radius: 8px;">
                    <button id="toProfileBtn" style="width: 50px; background: var(--secondary); color: white; border-radius: 8px;">‚öôÔ∏è</button>
                </div>
                <button class="btn-solo" id="soloBtn">Solo Mode</button>
                <input type="text" id="roomInput" placeholder="Room Code" maxlength="4" style="width: 100%; margin-top: 15px; padding: 12px; border: 2px solid #eee; border-radius: 8px; box-sizing: border-box;">
                <button class="btn-green" id="hostBtn">Host Duo Match</button>
                <button class="btn-outline" id="joinBtn">Join Match</button>

                <h3 style="margin-top: 25px;">üåç Global Ranking</h3>
                <table id="globalLeaderboard">
                    <thead><tr><th>#</th><th>Player</th><th>Pts</th></tr></thead>
                    <tbody id="globalLeaderboardBody"></tbody>
                </table>
            </div>
        </section>

        <section id="profileScreen" class="hidden">
            <div style="background: white; padding: 40px; border-radius: 15px; text-align: center; max-width: 450px; margin: auto;">
                <h2>Customize Profile</h2>
                <p style="color: #666;">Select your signature color</p>
                <div class="color-grid" id="colorGrid"></div>
                
                <h3 style="margin-top: 20px;">Unlocked Badges</h3>
                <div class="badge-grid" id="badgeContainer"></div>
                
                <button class="btn-outline" id="backHomeBtn" style="margin-top: 30px;">Save & Close</button>
            </div>
        </section>

        <section id="lobbyScreen" class="hidden">
            <h2 id="roomLabel">ROOM ----</h2>
            <div class="card" style="background: white; padding: 40px; border-radius: 15px; text-align: center;">
                <p id="lobbyStatus">Waiting for host...</p>
                <button class="btn-green" id="startBtn" disabled>Start Series</button>
            </div>
        </section>

        <section id="gameScreen" class="hidden">
            <div id="roundIndicator" style="font-weight:700; color:var(--secondary); margin-bottom:10px;">ROUND 1 - 1/20</div>
            <div class="timer-container"><div id="timerBar"></div></div>
            <div class="question-box" id="questionText"></div>
            <div id="options"></div>
        </section>

        <section id="roundWinnerScreen" class="hidden">
            <div style="background: white; padding: 40px; border-radius: 15px; text-align: center;">
                <h2>Level Complete!</h2>
                <button id="nextLevelBtn" class="btn-green">Next Level</button>
            </div>
        </section>

        <section id="seriesWinnerScreen" class="hidden">
            <div style="background: white; padding: 40px; border-radius: 15px; text-align: center;">
                <h1>üèÜ SERIES OVER üèÜ</h1>
                <div id="seriesStats" style="overflow-x: auto;"></div>
                <button onclick="location.reload()" class="btn-outline">Back to Home</button>
            </div>
        </section>
    </main>
</div>
<script type="module" src="app.js"></script>
</body>
</html>
